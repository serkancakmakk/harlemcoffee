{% block content %}
{% include "include_html/_navbar.html" %} 
<head>
   <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
   <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
</head>
<div class="content">
   <!-- Button trigger modal -->
   <a type="button" class="btn btn-primary" href="{% url "urun_listele" %}">
   Ürün Düzenleme Ekranına Git
   </a>
   <!-- Modal -->
   <div class="modal fade" id="ProductModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-xl">
         <div class="modal-content">
            <div class="modal-header">
               <h5 class="modal-title" id="staticBackdropLabel">Modal title</h5>
               <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
               <div class="input-group mb-3">
                  <input type="text" id="searchInput" class="form-control" placeholder="Search by product name">
               </div>
            </div>
            <div class="modal-footer">
               <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
               <button type="button" class="btn btn-primary">Understood</button>
            </div>
         </div>
      </div>
   </div>
   <script>
      document.addEventListener('DOMContentLoaded', function () {
          const searchInput = document.getElementById('searchInput');
          const productTableBody = document.getElementById('productTableBody');
      
          searchInput.addEventListener('input', function () {
              const searchTerm = searchInput.value.trim().toLowerCase();
              const rows = productTableBody.getElementsByTagName('tr');
      
              for (let row of rows) {
                  const productName = row.cells[0].textContent.trim().toLowerCase();
                  if (productName.includes(searchTerm)) {
                      row.style.display = '';
                  } else {
                      row.style.display = 'none';
                  }
              }
          });
          });
   </script>
   <div class="row">
      {% if messages %}
      {% for message in messages  %}
      <div class="alert alert-success alert-dismissible fade show text-center mt-4" role="alert">
         <strong >İşlem Başarılı</strong> {{message}}
         <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
      {% endfor %}
      {% endif %}
      <div class="col-lg-4 col-sm-12">
         <form action="{% url "product" %}" method="POST" enctype='multipart/form-data'>
         {% csrf_token %}
         <div style="display: flex; flex-direction: column;">
            <label for="product_name">Ürün Adı:</label>
            <input type="text" id="product_name" name="name" class="form-control" placeholder="Ürün Adı" aria-label="Ürün Adı" aria-describedby="basic-addon1">
         </div>
         <div style="display: flex; flex-direction: column;">
            <label for="product_name">Category Adı:</label>
            <select id="product_name" name="category" class="form-control" aria-label="Kategori Seçin" aria-describedby="basic-addon1">
               {% for category in categories %}
               <option name="category" value="{{category.id}}">{{category.name}}</option>
               {% endfor %}
               <!-- Add more options as needed -->
            </select>
         </div>
         <div id="product-form"style="display: flex; flex-direction: column;">
            <label for="product_name">Ürün Açıklaması:</label>
            <input type="text" id="product_name" name="description" class="form-control" placeholder="Ürün Adı" aria-label="Ürün Adı" aria-describedby="basic-addon1">
         </div>
         <div style="display: flex; flex-direction: column;">
            <label for="product_name">İçerik</label>
            <input type="text" id="product_name" name="ingredients" class="form-control" placeholder="Ürün İçeriği" aria-label="Ürün Adı" aria-describedby="basic-addon1">
         </div>
         <div style="display: flex; flex-direction: column;">
            <label for="product_name">Fotoğraf</label>
            <input type="file" name="image" class="form-control" id="inputGroupFile01">
         </div>
         <div style="display: flex; flex-direction: column;">
            <label for="product_name">Eski Fiyat:</label>
            <input type="text" id="product_name" name="previous_price" class="form-control" placeholder="Eski Fiyat" aria-label="Ürün Adı" aria-describedby="basic-addon1">
         </div>
         <div style="display: flex; flex-direction: column;">
            <label for="product_name">Yeni Fiyat:</label>
            <input type="text" id="product_name" name="price" class="form-control" placeholder="Yeni Fiyat" aria-label="Ürün Adı" aria-describedby="basic-addon1">
         </div>
         <div>
            <label for="priority"><strong>Durum</strong></label>
            <input type="checkbox" style="background-color:red;" id="status" name="status" class="form-check-input" aria-label="Öncelik" aria-describedby="basic-addon1">
            <label for="priority"><strong>Öncelik</strong></label>
            <input type="checkbox" style="background-color:red;" id="priority" name="priority" class="form-check-input" aria-label="Öncelik" aria-describedby="basic-addon1">
            <label for="priority"><strong>Anasayfada Görüntülensin mi?</strong></label>
            <input type="checkbox"style="background-color:red;"  id="showcase_product" name="showcase_product" class="form-check-input" aria-label="selected_product" aria-describedby="basic-addon1">
         </div>
         <button class="btn btn-success"type="submit">Kayıt</button>
         </form>
      </div>
      <div class="col-lg-8 col-sm-12">
      </div>
   </div>
</div>
{% endblock content %}